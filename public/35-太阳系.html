<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<style type="text/css">
		canvas {
			background-color: black;
			display: block;
			margin: 0 auto;
		}
	</style>
</head>
<body>
	<script type="text/javascript">
		// 环绕动画
		const canvas = document.createElement("canvas")
		// 2- 必须通过属性设置宽高
		canvas.width = 800
		canvas.height = 600
		document.body.appendChild(canvas)
		const context = canvas.getContext("2d")

		// 准备一个地球旋转的角度
		let angle = 0
		//
		let moon = 0

		function loop() {
			// context.translate(0, 0)
			// context.rotate(0)
			context.save()
			context.clearRect(0,0,800, 600)
			context.beginPath()
			context.fillStyle = "yellow"
			context.arc(400, 300, 100, 0, 2 * Math.PI)
			context.shadowColor = "yellow"
			context.shadowBlur = 5;
			context.fill()
			context.closePath();


			// -------------
			context.beginPath()
			context.fillStyle = "blue"
			// 200 x -> -600 600
			angle+= 0.3
			context.translate(400, 300)
			
			// 画笔旋转角度
			context.rotate(Math.PI / 360 * angle)
			context.translate(200, 0)
			context.arc(0, 0, 20, 0, 2 * Math.PI)
			context.shadowColor = "blue"
			context.shadowBlur = 0;
			context.fill()
			context.closePath();
			

			context.beginPath()
			
			context.fillStyle = "white"
			moon+= 1
			context.rotate(Math.PI / 360 * moon)
			context.arc(40, 0, 6, 0, 2 * Math.PI) 
			
			context.fill()
			context.closePath();
			context.restore()

			requestAnimationFrame(loop)
		}
		requestAnimationFrame(loop)

		// function move() {
		// 	x++
		// 	context.clearRect(0, 0, 600, 400);
		// 	context.fillStyle = "pink"
		// 	context.fillRect(x, 0, 100, 100)
			
		// 	if (x > 600) {
		// 		x = -100
		// 	}
		// 	// requestAnimationFrame(move)
		// }

		// requestAnimationFrame(move)


	</script>
</body>
</html>